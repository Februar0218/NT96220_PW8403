#include "debug.h"
#include "sensor.h"
#include "string.h"

#if H22_220
#if 0   //4x dzoom 40 step
const UINT32 VDOZOOM_INFOR_TABLE[41][6] =
{
    {1280,  708,  1280,  708,  1280,  708},
    {1232,  684,  1232,  684,  1232,  684},
    {1184,  656,  1184,  656,  1184,  656},
    {1152,  636,  1152,  636,  1152,  636},
    {1120,  620,  1120,  620,  1120,  620},
    {1072,  592,  1072,  592,  1072,  592},
    {1040,  576,  1040,  576,  1040,  576},
    {1008,  556,  1008,  556,  1008,  556},
    {976 ,  540,  976 ,  540,  976 ,  540},
    {944 ,  520,  944 ,  520,  944 ,  520},
    {912 ,  504,  912 ,  504,  912 ,  504},
    {880 ,  484,  880 ,  484,  880 ,  484},
    {864 ,  476,  864 ,  476,  864 ,  476},
    {832 ,  456,  832 ,  456,  832 ,  456},
    {800 ,  440,  800 ,  440,  800 ,  440},
    {784 ,  432,  784 ,  432,  784 ,  432},
    {752 ,  412,  752 ,  412,  752 ,  412},
    {736 ,  404,  736 ,  404,  736 ,  404},
    {704 ,  384,  704 ,  384,  704 ,  384},
    {688 ,  376,  688 ,  376,  688 ,  376},
    {656 ,  360,  656 ,  360,  656 ,  360},
    {640 ,  348,  640 ,  348,  640 ,  348},
    {624 ,  340,  624 ,  340,  624 ,  340},
    {592 ,  324,  592 ,  324,  592 ,  324},
    {576 ,  312,  576 ,  312,  576 ,  312},
    {560 ,  304,  560 ,  304,  560 ,  304},
    {544 ,  296,  544 ,  296,  544 ,  296},
    {528 ,  288,  528 ,  288,  528 ,  288},
    {512 ,  276,  512 ,  276,  512 ,  276},
    {496 ,  268,  496 ,  268,  496 ,  268},
    {480 ,  260,  480 ,  260,  480 ,  260},
    {464 ,  252,  464 ,  252,  464 ,  252},
    {448 ,  240,  448 ,  240,  448 ,  240},
    {432 ,  232,  432 ,  232,  432 ,  232},
    {416 ,  224,  416 ,  224,  416 ,  224},
    {400 ,  216,  400 ,  216,  400 ,  216},
    {384 ,  204,  384 ,  204,  384 ,  204},
    {384 ,  204,  384 ,  204,  384 ,  204},
    {368 ,  196,  368 ,  196,  368 ,  196},
    {352 ,  188,  352 ,  188,  352 ,  188},
    {336 ,  176,  336 ,  176,  336 ,  176},
};
#else   //8X dzoom
const UINT32 VDOZOOM_INFOR_TABLE[30][6] =
{
    //sie_in        sie_out
    {1280,  708,  1280,  708,  1280,  708},
    {1216,  672,  1216,  672,  1216,  672},
    {1168,  648,  1168,  648,  1168,  648},
    {1120,  620,  1120,  620,  1120,  620},
    {1072,  592,  1072,  592,  1072,  592},
    {1024,  564,  1024,  564,  1024,  564},
    {976 ,  540,  976 ,  540,  976 ,  540},
    {928 ,  512,  928 ,  512,  928 ,  512},
    {896 ,  492,  896 ,  492,  896 ,  492},
    {848 ,  468,  848 ,  468,  848 ,  468},
    {816 ,  448,  816 ,  448,  816 ,  448},
    {784 ,  432,  784 ,  432,  784 ,  432},
    {752 ,  412,  752 ,  412,  752 ,  412},
    {720 ,  396,  720 ,  396,  720 ,  396},
    {688 ,  376,  688 ,  376,  688 ,  376},
    {656 ,  360,  656 ,  360,  656 ,  360},
    {624 ,  340,  624 ,  340,  624 ,  340},
    {592 ,  324,  592 ,  324,  592 ,  324},
    {576 ,  312,  576 ,  312,  576 ,  312},
    {544 ,  296,  544 ,  296,  544 ,  296},
    {528 ,  288,  528 ,  288,  528 ,  288},
    {496 ,  268,  496 ,  268,  496 ,  268},
    {480 ,  260,  480 ,  260,  480 ,  260},
    {464 ,  252,  464 ,  252,  464 ,  252},
    {432 ,  232,  432 ,  232,  432 ,  232},
    {416 ,  224,  416 ,  224,  416 ,  224},
    {400 ,  216,  400 ,  216,  400 ,  216},
//    {384 ,  208,  384 ,  208,  384 ,  208},
    {368 ,  196,  368 ,  196,  368 ,  196},
    {352 ,  188,  352 ,  188,  352 ,  188},
    {336 ,  176,  336 ,  176,  336 ,  176},
};
#endif

UINT32 gDzoomTbl[30][6];
UINT32*  SenMode2Tbl(UINT32 SenMode,UINT32 *DzMaxidx)
{
    switch(SenMode)
    {
        //senmode,follow sensor driver,return corresponding dzoom tbl
        case SENSOR_MODE_640X480:
        case SENSOR_MODE_1280X960:
        case SENSOR_MODE_1440X1080:
        case SENSOR_MODE_FULL:
            memcpy(gDzoomTbl,VDOZOOM_INFOR_TABLE,sizeof(UINT32)*30*6);
            break;
        default:
            debug_err(("%d %s\r\n",__LINE__,__func__));
        break;
    }
    *DzMaxidx = (30 -1+10);
    return gDzoomTbl[0];
}
#endif
